<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„ - Ø¯Ø±Ø³ ØªÙØ§Ø¹Ù„ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Tajawal', sans-serif; }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .section-btn.active { background: white; color: #0d9488; box-shadow: 0 10px 25px rgba(0,0,0,0.1); transform: scale(1.05); }
        .section-btn.completed { background: #4ade80; color: white; }
        .alif-maqsura { color: #dc2626; font-weight: bold; }
        .alif-mamduda { color: #2563eb; font-weight: bold; }
        .highlight-box { transition: all 0.3s ease; }
        .highlight-box:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-teal-50 via-cyan-50 to-emerald-50">
    <div id="app" class="p-4 md:p-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="bg-gradient-to-r from-teal-600 via-cyan-600 to-emerald-600 rounded-2xl p-6 mb-6 shadow-xl">
                <h1 class="text-3xl md:text-4xl font-bold text-white text-center mb-4">âœï¸ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</h1>
                <p class="text-teal-100 text-center text-lg">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ - Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø®Ø§Ù…Ø³</p>
                
                <!-- Navigation -->
                <div id="nav-buttons" class="flex flex-wrap justify-center gap-2 mt-6"></div>
            </div>

            <!-- Progress Bar -->
            <div class="bg-white rounded-full h-4 mb-6 shadow-inner overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-teal-400 to-emerald-500 transition-all duration-500 rounded-full" style="width: 0%"></div>
            </div>

            <!-- Main Content -->
            <div id="content" class="animate-fadeIn"></div>

            <!-- Footer -->
            <div class="text-center text-gray-500 text-sm mt-8 pb-4">
                Ø¥Ø¹Ø¯Ø§Ø¯ : Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ 
            </div>
        </div>
    </div>

    <script>
        // Application State
        let state = {
            currentSection: 0,
            score: 0,
            completedSections: [],
            currentQuizIndex: 0,
            selectedAnswer: null,
            showResult: false,
            isCorrect: null,
            showCelebration: false,
            practiceIndex: 0,
            showPracticeResult: false,
            interactiveVerb: null
        };

        // Data
        const sections = [
            { id: 0, title: 'Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©', icon: 'ğŸ“š' },
            { id: 1, title: 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©', icon: 'Ù£' },
            { id: 2, title: 'ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ', icon: 'Ù¤+' },
            { id: 3, title: 'ØªØ¯Ø±ÙŠØ¨ ØªÙØ§Ø¹Ù„ÙŠ', icon: 'ğŸ®' },
            { id: 4, title: 'Ø§Ù„ØªØ¯Ø±ÙŠØ¨Ø§Øª', icon: 'ğŸ’ª' },
            { id: 5, title: 'Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', icon: 'ğŸ¯' },
            { id: 6, title: 'Ø§Ù„Ø®Ù„Ø§ØµØ©', icon: 'ğŸ†' },
        ];

        // Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©
        const threeLetterVerbs = [
            { past: 'Ø¯ÙÙ†ÙØ§', present: 'ÙŠÙØ¯Ù’Ù†ÙÙˆ', root: 'ÙˆØ§Ùˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ¯Ù†Ùˆ)' },
            { past: 'Ø³ÙÙ…ÙØ§', present: 'ÙŠÙØ³Ù’Ù…ÙÙˆ', root: 'ÙˆØ§Ùˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ³Ù…Ùˆ)' },
            { past: 'Ø¹ÙÙ„ÙØ§', present: 'ÙŠÙØ¹Ù’Ù„ÙÙˆ', root: 'ÙˆØ§Ùˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ¹Ù„Ùˆ)' },
            { past: 'Ù†ÙÙ…ÙØ§', present: 'ÙŠÙÙ†Ù’Ù…ÙÙˆ', root: 'ÙˆØ§Ùˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠÙ†Ù…Ùˆ)' },
            { past: 'Ø±ÙØ¬ÙØ§', present: 'ÙŠÙØ±Ù’Ø¬ÙÙˆ', root: 'ÙˆØ§Ùˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ±Ø¬Ùˆ)' },
            { past: 'Ø·ÙÙˆÙÙ‰', present: 'ÙŠÙØ·Ù’ÙˆÙÙŠ', root: 'ÙŠØ§Ø¡', type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠØ·ÙˆÙŠ)' },
            { past: 'Ù‚ÙØ¶ÙÙ‰', present: 'ÙŠÙÙ‚Ù’Ø¶ÙÙŠ', root: 'ÙŠØ§Ø¡', type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠÙ‚Ø¶ÙŠ)' },
            { past: 'Ø³ÙØ±ÙÙ‰', present: 'ÙŠÙØ³Ù’Ø±ÙÙŠ', root: 'ÙŠØ§Ø¡', type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠØ³Ø±ÙŠ)' },
            { past: 'Ù‡ÙÙˆÙÙ‰', present: 'ÙŠÙÙ‡Ù’ÙˆÙÙŠ', root: 'ÙŠØ§Ø¡', type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠÙ‡ÙˆÙŠ)' },
            { past: 'Ø±ÙÙ…ÙÙ‰', present: 'ÙŠÙØ±Ù’Ù…ÙÙŠ', root: 'ÙŠØ§Ø¡', type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠØ±Ù…ÙŠ)' },
        ];

        // Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©
        const aboveThreeVerbs = [
            { verb: 'Ø£ÙÙˆÙ’ÙÙÙ‰', letters: 4, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'Ø£ÙØ¹Ù’Ø·ÙÙ‰', letters: 4, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'Ø£ÙÙ„Ù’Ù‚ÙÙ‰', letters: 4, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø±Ø¨Ø§Ø¹ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'Ø§Ø³Ù’ØªÙÙˆÙ’ÙÙÙ‰', letters: 6, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'Ø§Ø³Ù’ØªÙØ¹Ù’Ù„ÙÙ‰', letters: 6, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'ØªÙÙÙØ´ÙÙ‘Ù‰', letters: 5, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø®Ù…Ø§Ø³ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
            { verb: 'Ø§Ù‡Ù’ØªÙØ¯ÙÙ‰', letters: 5, type: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'ÙØ¹Ù„ Ø®Ù…Ø§Ø³ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)' },
        ];

        const quizQuestions = [
            {
                question: 'ÙƒÙŠÙ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ "Ø¯Ù†Ø§"ØŸ',
                options: ['Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)', 'Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)'],
                correct: 0,
                explanation: 'ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ¯Ù†Ùˆ)'
            },
            {
                question: 'ÙƒÙŠÙ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ "Ù‚Ø¶Ù‰"ØŸ',
                options: ['Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)', 'Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)'],
                correct: 1,
                explanation: 'ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ÙŠÙ‚Ø¶ÙŠ)'
            },
            {
                question: 'Ù…Ø§ Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©ØŸ',
                options: ['Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø§Ø¶ÙŠ', 'Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹', 'Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù…Ø±'],
                correct: 1,
                explanation: 'Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù'
            },
            {
                question: 'Ø§Ù„ÙØ¹Ù„ "Ø£ÙˆÙÙ‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù:',
                options: ['Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù†Ù‡ Ø«Ù„Ø§Ø«ÙŠ', 'Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù†Ù‡ ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ', 'Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù†Ù‡ ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ'],
                correct: 1,
                explanation: 'Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ØªÙÙƒØªØ¨ Ø£Ù„ÙÙ‡Ø§ Ù…Ù‚ØµÙˆØ±Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹'
            },
            {
                question: 'Ø£ÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© ØªÙÙƒØªØ¨ Ø£Ù„ÙÙ‡ Ù…Ù…Ø¯ÙˆØ¯Ø©ØŸ',
                options: ['Ù‡ÙˆÙ‰', 'Ø³Ù…Ø§', 'Ø±Ù…Ù‰'],
                correct: 1,
                explanation: 'Ø³Ù…Ø§ ØªÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ÙŠØ³Ù…Ùˆ)'
            },
            {
                question: 'Ø§Ù„ÙØ¹Ù„ "Ø§Ø³ØªÙˆÙÙ‰" ÙŠÙÙƒØªØ¨ Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù†Ù‡:',
                options: ['Ø£ØµÙ„Ù‡ ÙŠØ§Ø¡', 'ÙØ¹Ù„ ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ', 'ÙØ¹Ù„ Ù…Ø§Ø¶Ù'],
                correct: 1,
                explanation: 'Ø§Ø³ØªÙˆÙÙ‰ ÙØ¹Ù„ Ø³Ø¯Ø§Ø³ÙŠ (ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ) ÙØªÙÙƒØªØ¨ Ø£Ù„ÙÙ‡ Ù…Ù‚ØµÙˆØ±Ø©'
            },
            {
                question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ¹Ù„Ùˆ"ØŒ ÙØ§Ù„Ù…Ø§Ø¶ÙŠ ÙŠÙÙƒØªØ¨:',
                options: ['Ø¹Ù„Ø§', 'Ø¹Ù„Ù‰'],
                correct: 0,
                explanation: 'ÙŠÙÙƒØªØ¨ "Ø¹Ù„Ø§" Ø¨Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙˆØ§Ùˆ'
            },
            {
                question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ "ÙŠØ³Ø±ÙŠ"ØŒ ÙØ§Ù„Ù…Ø§Ø¶ÙŠ ÙŠÙÙƒØªØ¨:',
                options: ['Ø³Ø±Ø§', 'Ø³Ø±Ù‰'],
                correct: 1,
                explanation: 'ÙŠÙÙƒØªØ¨ "Ø³Ø±Ù‰" Ø¨Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© Ù„Ø£Ù† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙŠØ§Ø¡'
            }
        ];

        const practiceExercises = [
            { verb: 'Ø·ÙˆÙ‰', present: 'ÙŠØ·ÙˆÙŠ', answer: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡' },
            { verb: 'Ø¯Ø¹Ø§', present: 'ÙŠØ¯Ø¹Ùˆ', answer: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ' },
            { verb: 'Ø¨Ù†Ù‰', present: 'ÙŠØ¨Ù†ÙŠ', answer: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡' },
            { verb: 'ØºØ²Ø§', present: 'ÙŠØºØ²Ùˆ', answer: 'Ù…Ù…Ø¯ÙˆØ¯Ø©', reason: 'Ù„Ø£Ù† Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ' },
            { verb: 'Ø£Ø¹Ø·Ù‰', present: '-', answer: 'Ù…Ù‚ØµÙˆØ±Ø©', reason: 'Ù„Ø£Ù†Ù‡ ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ' },
        ];

        // Render Functions
        function renderNav() {
            const nav = document.getElementById('nav-buttons');
            nav.innerHTML = sections.map(section => `
                <button onclick="goToSection(${section.id})" 
                    class="section-btn px-3 py-2 rounded-full text-sm font-bold transition-all ${
                        state.currentSection === section.id ? 'active' : 
                        state.completedSections.includes(section.id) ? 'completed' : 'bg-white/20 text-white hover:bg-white/30'
                    }">
                    ${section.icon} ${section.title}
                </button>
            `).join('');
        }

        function updateProgress() {
            const progress = (state.completedSections.length / sections.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function goToSection(id) {
            state.currentSection = id;
            render();
        }

        function markComplete(id) {
            if (!state.completedSections.includes(id)) {
                state.completedSections.push(id);
            }
        }

        // Section Renderers
        function renderIntroduction() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-2xl p-8 border-2 border-teal-200 shadow-lg">
                        <h2 class="text-3xl font-bold text-teal-800 mb-6 text-center">ğŸŒŸ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¯Ø±Ø³ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</h2>
                        
                        <div class="bg-white/80 rounded-xl p-6 mb-6">
                            <h3 class="text-xl font-bold text-teal-700 mb-4">ğŸ“– Ù…Ø§Ø°Ø§ Ø³ØªØªØ¹Ù„Ù…ØŸ</h3>
                            <ul class="space-y-3 text-lg text-gray-700">
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">Ù¡</span>
                                    <span>Ù…ØªÙ‰ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù <span class="alif-mamduda">Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)</span> ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">Ù¢</span>
                                    <span>Ù…ØªÙ‰ ØªÙÙƒØªØ¨ Ø§Ù„Ø£Ù„Ù <span class="alif-maqsura">Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</span> ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">Ù£</span>
                                    <span>Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù Ø¨Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold">Ù¤</span>
                                    <span>Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ÙˆÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©</span>
                                </li>
                            </ul>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-blue-100 rounded-xl p-5 border-2 border-blue-300">
                                <div class="text-4xl text-center mb-2">Ø§</div>
                                <h4 class="text-xl font-bold text-blue-700 text-center mb-2">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù…Ø¯ÙˆØ¯Ø©</h4>
                                <p class="text-gray-700 text-center">ØªÙÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙˆØ§ÙˆØ§Ù‹</strong></p>
                                <div class="text-center mt-2 text-blue-600 font-bold">Ù…Ø«Ø§Ù„: Ø¯ÙÙ†ÙØ§ â† ÙŠÙØ¯Ù’Ù†ÙÙˆ</div>
                            </div>
                            <div class="bg-red-100 rounded-xl p-5 border-2 border-red-300">
                                <div class="text-4xl text-center mb-2">Ù‰</div>
                                <h4 class="text-xl font-bold text-red-700 text-center mb-2">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø©</h4>
                                <p class="text-gray-700 text-center">ØªÙÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙŠØ§Ø¡Ù‹</strong></p>
                                <div class="text-center mt-2 text-red-600 font-bold">Ù…Ø«Ø§Ù„: Ù‚ÙØ¶ÙÙ‰ â† ÙŠÙÙ‚Ù’Ø¶ÙÙŠ</div>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="markComplete(0); goToSection(1);" class="w-full py-4 bg-gradient-to-r from-teal-500 to-cyan-500 text-white text-xl font-bold rounded-xl hover:from-teal-600 hover:to-cyan-600 transition-all transform hover:scale-[1.02] shadow-lg">
                        Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù… â†
                    </button>
                </div>
            `;
        }

        function renderThreeLetter() {
            const wawVerbs = threeLetterVerbs.filter(v => v.root === 'ÙˆØ§Ùˆ');
            const yaaVerbs = threeLetterVerbs.filter(v => v.root === 'ÙŠØ§Ø¡');
            
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border-2 border-indigo-200">
                        <h2 class="text-2xl font-bold text-indigo-800 mb-6 text-center">Ù£ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©</h2>
                        
                        <div class="bg-yellow-50 border-2 border-yellow-300 rounded-xl p-4 mb-6">
                            <p class="text-lg text-yellow-800 text-center font-bold">
                                ğŸ’¡ Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©ØŒ Ù†Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ <span class="text-purple-700">ØµÙŠØºØ© Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</span>
                            </p>
                        </div>

                        <!-- Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© -->
                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-indigo-200">
                            <h3 class="text-xl font-bold text-indigo-700 mb-4 text-center">ğŸ“Œ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©</h3>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-5 shadow-lg highlight-box">
                                    <div class="text-5xl text-center mb-3">Ø§</div>
                                    <h4 class="text-xl font-bold text-center mb-3">ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù…Ø¯ÙˆØ¯Ø©</h4>
                                    <div class="bg-white/20 rounded-lg p-3 text-center">
                                        <p>Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙˆØ§ÙˆØ§Ù‹</strong></p>
                                        <p class="text-sm mt-2">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ (Ùˆ)</p>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl p-5 shadow-lg highlight-box">
                                    <div class="text-5xl text-center mb-3">Ù‰</div>
                                    <h4 class="text-xl font-bold text-center mb-3">ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù‚ØµÙˆØ±Ø©</h4>
                                    <div class="bg-white/20 rounded-lg p-3 text-center">
                                        <p>Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙŠØ§Ø¡Ù‹</strong></p>
                                        <p class="text-sm mt-2">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ (ÙŠ)</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Ø£Ù…Ø«Ù„Ø© Ø§Ù„ÙˆØ§Ùˆ -->
                        <div class="bg-blue-50 rounded-xl p-5 mb-4 border-2 border-blue-200">
                            <h4 class="text-lg font-bold text-blue-700 mb-4 flex items-center gap-2">
                                <span class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center">Ø§</span>
                                Ø£ÙØ¹Ø§Ù„ Ø£ØµÙ„Ù‡Ø§ ÙˆØ§Ùˆ (ØªÙÙƒØªØ¨ Ù…Ù…Ø¯ÙˆØ¯Ø©)
                            </h4>
                            <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                                ${wawVerbs.map(v => `
                                    <div class="bg-white rounded-lg p-3 text-center shadow hover:shadow-lg transition-all cursor-pointer" onclick="showVerbDetails('${v.past}', '${v.present}', '${v.type}', '${v.reason}')">
                                        <div class="text-2xl font-bold text-blue-600">${v.past}</div>
                                        <div class="text-sm text-gray-500">â† ${v.present}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Ø£Ù…Ø«Ù„Ø© Ø§Ù„ÙŠØ§Ø¡ -->
                        <div class="bg-red-50 rounded-xl p-5 border-2 border-red-200">
                            <h4 class="text-lg font-bold text-red-700 mb-4 flex items-center gap-2">
                                <span class="bg-red-500 text-white w-8 h-8 rounded-full flex items-center justify-center">Ù‰</span>
                                Ø£ÙØ¹Ø§Ù„ Ø£ØµÙ„Ù‡Ø§ ÙŠØ§Ø¡ (ØªÙÙƒØªØ¨ Ù…Ù‚ØµÙˆØ±Ø©)
                            </h4>
                            <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                                ${yaaVerbs.map(v => `
                                    <div class="bg-white rounded-lg p-3 text-center shadow hover:shadow-lg transition-all cursor-pointer" onclick="showVerbDetails('${v.past}', '${v.present}', '${v.type}', '${v.reason}')">
                                        <div class="text-2xl font-bold text-red-600">${v.past}</div>
                                        <div class="text-sm text-gray-500">â† ${v.present}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
                        <div id="verb-details" class="hidden mt-4 bg-gradient-to-r from-purple-100 to-indigo-100 rounded-xl p-5 border-2 border-purple-300"></div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(0)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">â†’ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button onclick="markComplete(1); goToSection(2);" class="flex-1 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-bold rounded-xl hover:from-indigo-600 hover:to-purple-600 transition-all">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
                    </div>
                </div>
            `;
        }

        function showVerbDetails(past, present, type, reason) {
            const detailsDiv = document.getElementById('verb-details');
            const colorClass = type === 'Ù…Ù…Ø¯ÙˆØ¯Ø©' ? 'blue' : 'red';
            detailsDiv.innerHTML = `
                <div class="flex items-center justify-between">
                    <div>
                        <span class="text-3xl font-bold text-${colorClass}-600">${past}</span>
                        <span class="text-xl text-gray-500 mx-3">â†</span>
                        <span class="text-2xl font-bold text-purple-600">${present}</span>
                    </div>
                    <div class="bg-${colorClass}-500 text-white px-4 py-2 rounded-full font-bold">
                        Ø£Ù„Ù ${type}
                    </div>
                </div>
                <p class="mt-3 text-gray-700 text-lg">âœ… ${reason}</p>
            `;
            detailsDiv.classList.remove('hidden');
        }

        function renderAboveThree() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-6 border-2 border-emerald-200">
                        <h2 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Ù¤+ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©</h2>
                        
                        <div class="bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-xl p-6 mb-6">
                            <h3 class="text-2xl font-bold text-center mb-3">ğŸ“Œ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</h3>
                            <p class="text-xl text-center">
                                Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© (Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø®Ù…Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ø³Ø¯Ø§Ø³ÙŠØ©) ØªÙÙƒØªØ¨ Ø£Ù„ÙÙ‡Ø§ <span class="bg-white/30 px-3 py-1 rounded-lg font-bold">Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</span> Ø¯Ø§Ø¦Ù…Ø§Ù‹
                            </p>
                        </div>

                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-emerald-200">
                            <h3 class="text-xl font-bold text-emerald-700 mb-4">ğŸ”¢ ØªØµÙ†ÙŠÙ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ</h3>
                            
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="bg-emerald-50 rounded-xl p-4 border-2 border-emerald-200">
                                    <div class="text-center mb-3">
                                        <span class="bg-emerald-500 text-white text-2xl font-bold w-12 h-12 rounded-full inline-flex items-center justify-center">Ù¤</span>
                                    </div>
                                    <h4 class="font-bold text-emerald-700 text-center mb-2">Ø±Ø¨Ø§Ø¹ÙŠ</h4>
                                    <div class="space-y-2">
                                        ${aboveThreeVerbs.filter(v => v.letters === 4).map(v => `
                                            <div class="bg-white rounded-lg p-2 text-center">
                                                <span class="text-xl font-bold text-emerald-600">${v.verb}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>

                                <div class="bg-green-50 rounded-xl p-4 border-2 border-green-200">
                                    <div class="text-center mb-3">
                                        <span class="bg-green-500 text-white text-2xl font-bold w-12 h-12 rounded-full inline-flex items-center justify-center">Ù¥</span>
                                    </div>
                                    <h4 class="font-bold text-green-700 text-center mb-2">Ø®Ù…Ø§Ø³ÙŠ</h4>
                                    <div class="space-y-2">
                                        ${aboveThreeVerbs.filter(v => v.letters === 5).map(v => `
                                            <div class="bg-white rounded-lg p-2 text-center">
                                                <span class="text-xl font-bold text-green-600">${v.verb}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>

                                <div class="bg-teal-50 rounded-xl p-4 border-2 border-teal-200">
                                    <div class="text-center mb-3">
                                        <span class="bg-teal-500 text-white text-2xl font-bold w-12 h-12 rounded-full inline-flex items-center justify-center">Ù¦</span>
                                    </div>
                                    <h4 class="font-bold text-teal-700 text-center mb-2">Ø³Ø¯Ø§Ø³ÙŠ</h4>
                                    <div class="space-y-2">
                                        ${aboveThreeVerbs.filter(v => v.letters === 6).map(v => `
                                            <div class="bg-white rounded-lg p-2 text-center">
                                                <span class="text-xl font-bold text-teal-600">${v.verb}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-amber-50 rounded-xl p-5 border-2 border-amber-300">
                            <h4 class="font-bold text-amber-700 mb-3 flex items-center gap-2">
                                <span class="text-2xl">ğŸ’¡</span> ØªØ°ÙƒÙ‘Ø± Ø§Ù„ÙØ±Ù‚
                            </h4>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="bg-amber-200">
                                            <th class="p-3 text-right">Ù†ÙˆØ¹ Ø§Ù„ÙØ¹Ù„</th>
                                            <th class="p-3 text-right">Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©</th>
                                            <th class="p-3 text-right">Ù…Ø«Ø§Ù„</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="bg-white">
                                            <td class="p-3 font-bold">Ø«Ù„Ø§Ø«ÙŠ Ø£ØµÙ„Ù‡ ÙˆØ§Ùˆ</td>
                                            <td class="p-3"><span class="alif-mamduda">Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)</span></td>
                                            <td class="p-3">Ø¯ÙÙ†ÙØ§ØŒ Ø³ÙÙ…ÙØ§ØŒ Ø¹ÙÙ„ÙØ§</td>
                                        </tr>
                                        <tr class="bg-amber-50">
                                            <td class="p-3 font-bold">Ø«Ù„Ø§Ø«ÙŠ Ø£ØµÙ„Ù‡ ÙŠØ§Ø¡</td>
                                            <td class="p-3"><span class="alif-maqsura">Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</span></td>
                                            <td class="p-3">Ù‚ÙØ¶ÙÙ‰ØŒ Ø±ÙÙ…ÙÙ‰ØŒ Ù‡ÙÙˆÙÙ‰</td>
                                        </tr>
                                        <tr class="bg-white">
                                            <td class="p-3 font-bold">ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ</td>
                                            <td class="p-3"><span class="alif-maqsura">Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</span> Ø¯Ø§Ø¦Ù…Ø§Ù‹</td>
                                            <td class="p-3">Ø£ÙÙˆÙ’ÙÙÙ‰ØŒ Ø§Ø³Ù’ØªÙÙˆÙ’ÙÙÙ‰</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(1)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">â†’ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button onclick="markComplete(2); goToSection(3);" class="flex-1 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-green-600 transition-all">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
                    </div>
                </div>
            `;
        }

        function renderInteractive() {
            const allVerbs = [
                { past: 'Ø¨ÙÙƒÙÙ‰', present: 'ÙŠÙØ¨Ù’ÙƒÙÙŠ', type: 'Ù…Ù‚ØµÙˆØ±Ø©' },
                { past: 'ØºÙØ²ÙØ§', present: 'ÙŠÙØºÙ’Ø²ÙÙˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©' },
                { past: 'Ù…ÙØ´ÙÙ‰', present: 'ÙŠÙÙ…Ù’Ø´ÙÙŠ', type: 'Ù…Ù‚ØµÙˆØ±Ø©' },
                { past: 'Ø¹ÙÙÙØ§', present: 'ÙŠÙØ¹Ù’ÙÙÙˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©' },
                { past: 'Ù†ÙØ¬ÙØ§', present: 'ÙŠÙÙ†Ù’Ø¬ÙÙˆ', type: 'Ù…Ù…Ø¯ÙˆØ¯Ø©' },
                { past: 'Ø³ÙÙ‚ÙÙ‰', present: 'ÙŠÙØ³Ù’Ù‚ÙÙŠ', type: 'Ù…Ù‚ØµÙˆØ±Ø©' },
            ];

            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl p-6 border-2 border-pink-200">
                        <h2 class="text-2xl font-bold text-pink-800 mb-6 text-center">ğŸ® ØªØ¯Ø±ÙŠØ¨ ØªÙØ§Ø¹Ù„ÙŠ</h2>
                        
                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-pink-200">
                            <h3 class="text-xl font-bold text-pink-700 mb-4 text-center">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù Ø§Ù„ØµØ­ÙŠØ­ Ù„ÙƒÙ„ ÙØ¹Ù„</h3>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                ${allVerbs.map((v, i) => `
                                    <div id="interactive-${i}" class="bg-pink-50 rounded-xl p-4 border-2 border-pink-200">
                                        <div class="text-center mb-3">
                                            <span class="text-2xl font-bold text-pink-700">${v.past.replace('Ø§', '_').replace('Ù‰', '_')}</span>
                                            <span class="text-gray-500 mx-2">â†</span>
                                            <span class="text-lg text-purple-600">${v.present}</span>
                                        </div>
                                        <div class="flex gap-2 justify-center">
                                            <button onclick="checkInteractive(${i}, 'Ù…Ù…Ø¯ÙˆØ¯Ø©', '${v.type}')" class="px-4 py-2 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-all">
                                                Ø§ (Ù…Ù…Ø¯ÙˆØ¯Ø©)
                                            </button>
                                            <button onclick="checkInteractive(${i}, 'Ù…Ù‚ØµÙˆØ±Ø©', '${v.type}')" class="px-4 py-2 bg-red-500 text-white rounded-lg font-bold hover:bg-red-600 transition-all">
                                                Ù‰ (Ù…Ù‚ØµÙˆØ±Ø©)
                                            </button>
                                        </div>
                                        <div id="result-${i}" class="mt-3 text-center hidden"></div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(2)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">â†’ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button onclick="markComplete(3); goToSection(4);" class="flex-1 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold rounded-xl hover:from-pink-600 hover:to-rose-600 transition-all">Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
                    </div>
                </div>
            `;
        }

        function checkInteractive(index, selected, correct) {
            const resultDiv = document.getElementById(`result-${index}`);
            const container = document.getElementById(`interactive-${index}`);
            
            if (selected === correct) {
                resultDiv.innerHTML = '<span class="text-green-600 font-bold">âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!</span>';
                container.classList.add('bg-green-100', 'border-green-400');
                container.classList.remove('bg-pink-50', 'border-pink-200');
            } else {
                resultDiv.innerHTML = `<span class="text-red-600 font-bold">âŒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${correct}</span>`;
                container.classList.add('bg-red-100', 'border-red-400');
                container.classList.remove('bg-pink-50', 'border-pink-200');
            }
            resultDiv.classList.remove('hidden');
            
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            container.querySelectorAll('button').forEach(btn => btn.disabled = true);
        }

        function renderPractice() {
            const exercise = practiceExercises[state.practiceIndex];
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-orange-50 to-amber-50 rounded-2xl p-6 border-2 border-orange-200">
                        <h2 class="text-2xl font-bold text-orange-800 mb-6 text-center">ğŸ’ª ØªØ¯Ø±ÙŠØ¨Ø§Øª ØªØ·Ø¨ÙŠÙ‚ÙŠØ©</h2>
                        
                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-orange-200">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-sm font-bold text-orange-600">ØªØ¯Ø±ÙŠØ¨ ${state.practiceIndex + 1} Ù…Ù† ${practiceExercises.length}</span>
                                <div class="flex gap-1">
                                    ${practiceExercises.map((_, i) => `<div class="w-3 h-3 rounded-full ${i <= state.practiceIndex ? 'bg-orange-500' : 'bg-gray-200'}"></div>`).join('')}
                                </div>
                            </div>

                            <div class="bg-orange-50 rounded-lg p-4 mb-4">
                                <p class="text-lg font-bold text-orange-700">Ø­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø§Ù„ÙØ¹Ù„ Ø§Ù„ØªØ§Ù„ÙŠ:</p>
                            </div>

                            <div class="text-center mb-6">
                                <span class="text-4xl font-bold text-gray-800 bg-yellow-100 px-6 py-3 rounded-xl">${exercise.verb}</span>
                                ${exercise.present !== '-' ? `<div class="mt-2 text-lg text-purple-600">Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹: ${exercise.present}</div>` : '<div class="mt-2 text-lg text-gray-500">(ÙØ¹Ù„ ÙÙˆÙ‚ Ø«Ù„Ø§Ø«ÙŠ)</div>'}
                            </div>

                            ${!state.showPracticeResult ? `
                                <div class="flex gap-4 justify-center">
                                    <button onclick="checkPractice('Ù…Ù…Ø¯ÙˆØ¯Ø©')" class="px-6 py-3 bg-blue-500 text-white text-lg font-bold rounded-xl hover:bg-blue-600 transition-all">
                                        Ø£Ù„Ù Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)
                                    </button>
                                    <button onclick="checkPractice('Ù…Ù‚ØµÙˆØ±Ø©')" class="px-6 py-3 bg-red-500 text-white text-lg font-bold rounded-xl hover:bg-red-600 transition-all">
                                        Ø£Ù„Ù Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)
                                    </button>
                                </div>
                            ` : `
                                <div class="space-y-4">
                                    <div class="${state.isCorrect ? 'bg-green-100 border-green-300' : 'bg-red-100 border-red-300'} rounded-xl p-4 border-2">
                                        <div class="flex items-center gap-2 mb-2">
                                            <span class="text-2xl">${state.isCorrect ? 'ğŸ‰' : 'ğŸ’¡'}</span>
                                            <span class="font-bold ${state.isCorrect ? 'text-green-700' : 'text-red-700'}">${state.isCorrect ? 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!' : 'Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©'}</span>
                                        </div>
                                        <p class="text-gray-700">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: <strong>Ø£Ù„Ù ${exercise.answer}</strong> ${exercise.reason}</p>
                                    </div>
                                    
                                    ${state.practiceIndex < practiceExercises.length - 1 ? `
                                        <button onclick="nextPractice()" class="w-full py-3 bg-orange-500 text-white font-bold rounded-xl hover:bg-orange-600 transition-all">
                                            Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªØ§Ù„ÙŠ â†
                                        </button>
                                    ` : `
                                        <button onclick="markComplete(4); goToSection(5);" class="w-full py-3 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-bold rounded-xl hover:from-orange-600 hover:to-amber-600 transition-all">
                                            Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ¯
                                        </button>
                                    `}
                                </div>
                            `}
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToSection(3)" class="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all">â†’ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                    </div>
                </div>
            `;
        }

        function checkPractice(answer) {
            const exercise = practiceExercises[state.practiceIndex];
            state.isCorrect = answer === exercise.answer;
            if (state.isCorrect) state.score++;
            state.showPracticeResult = true;
            render();
        }

        function nextPractice() {
            state.practiceIndex++;
            state.showPracticeResult = false;
            state.isCorrect = null;
            render();
        }

        function handleQuizAnswer(optionIndex) {
            if (state.selectedAnswer !== null) return;
            
            state.selectedAnswer = optionIndex;
            state.isCorrect = optionIndex === quizQuestions[state.currentQuizIndex].correct;
            if (state.isCorrect) state.score++;
            state.showResult = true;
            render();
        }

        function nextQuestion() {
            if (state.currentQuizIndex < quizQuestions.length - 1) {
                state.currentQuizIndex++;
                state.selectedAnswer = null;
                state.isCorrect = null;
                state.showResult = false;
            } else {
                state.showCelebration = true;
                markComplete(5);
            }
            render();
        }

        function resetQuiz() {
            state.currentQuizIndex = 0;
            state.score = 0;
            state.selectedAnswer = null;
            state.isCorrect = null;
            state.showResult = false;
            state.showCelebration = false;
            state.practiceIndex = 0;
            state.showPracticeResult = false;
            render();
        }

        function renderQuiz() {
            if (state.showCelebration) {
                return `
                    <div class="bg-gradient-to-br from-yellow-50 to-amber-50 rounded-2xl p-8 border-2 border-yellow-300 text-center animate-fadeIn">
                        <div class="text-6xl mb-4">ğŸ†</div>
                        <h2 class="text-3xl font-bold text-amber-800 mb-4">Ø£Ø­Ø³Ù†Øª! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
                        <div class="text-6xl font-bold text-amber-600 mb-4">${state.score} / ${quizQuestions.length}</div>
                        <div class="text-xl text-gray-700 mb-6">
                            ${state.score === quizQuestions.length ? 'Ù…Ù…ØªØ§Ø²! Ø¥Ø¬Ø§Ø¨Ø§Øª ÙƒØ§Ù…Ù„Ø© ğŸŒŸ' : 
                             state.score >= quizQuestions.length * 0.7 ? 'Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹! Ø§Ø³ØªÙ…Ø± ğŸ‘' : 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ù„ØªØ­Ø³Ù† ğŸ’ª'}
                        </div>
                        <div class="flex gap-4">
                            <button onclick="resetQuiz()" class="flex-1 py-3 bg-amber-500 text-white font-bold rounded-xl hover:bg-amber-600 transition-all">Ø£Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
                            <button onclick="goToSection(6)" class="flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all">Ø§Ù„Ø®Ù„Ø§ØµØ© â†</button>
                        </div>
                    </div>
                `;
            }

            const question = quizQuestions[state.currentQuizIndex];
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-violet-50 to-purple-50 rounded-2xl p-6 border-2 border-violet-200">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-violet-800">ğŸ¯ Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</h2>
                            <div class="bg-violet-500 text-white px-4 py-2 rounded-full font-bold">${state.currentQuizIndex + 1} / ${quizQuestions.length}</div>
                        </div>

                        <div class="bg-white rounded-xl p-6 mb-6 border-2 border-violet-200">
                            <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
                                <div class="bg-gradient-to-r from-violet-500 to-purple-500 h-3 rounded-full transition-all duration-500" style="width: ${((state.currentQuizIndex + 1) / quizQuestions.length) * 100}%"></div>
                            </div>

                            <p class="text-xl font-bold text-gray-800 mb-6 text-center">${question.question}</p>

                            <div class="grid gap-3">
                                ${question.options.map((option, index) => {
                                    let classes = 'w-full py-4 px-6 text-lg font-bold rounded-xl transition-all transform';
                                    if (state.selectedAnswer === null) {
                                        classes += ' bg-violet-100 text-violet-800 hover:bg-violet-200 hover:scale-[1.02]';
                                    } else if (state.selectedAnswer === index) {
                                        classes += state.isCorrect ? ' bg-green-500 text-white' : ' bg-red-500 text-white';
                                    } else if (index === question.correct) {
                                        classes += ' bg-green-500 text-white';
                                    } else {
                                        classes += ' bg-gray-100 text-gray-500';
                                    }
                                    return `<button onclick="handleQuizAnswer(${index})" ${state.selectedAnswer !== null ? 'disabled' : ''} class="${classes}">${option}</button>`;
                                }).join('')}
                            </div>

                            ${state.showResult ? `
                                <div class="mt-6 p-4 rounded-xl ${state.isCorrect ? 'bg-green-100 border-2 border-green-300' : 'bg-red-100 border-2 border-red-300'}">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-2xl">${state.isCorrect ? 'ğŸ‰' : 'ğŸ’¡'}</span>
                                        <span class="font-bold ${state.isCorrect ? 'text-green-700' : 'text-red-700'}">${state.isCorrect ? 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!' : 'Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©'}</span>
                                    </div>
                                    <p class="text-gray-700">${question.explanation}</p>
                                    <button onclick="nextQuestion()" class="mt-4 w-full py-3 bg-violet-500 text-white font-bold rounded-xl hover:bg-violet-600 transition-all">
                                        ${state.currentQuizIndex < quizQuestions.length - 1 ? 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†' : 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ğŸ†'}
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSummary() {
            return `
                <div class="space-y-6 animate-fadeIn">
                    <div class="bg-gradient-to-br from-cyan-50 to-teal-50 rounded-2xl p-6 border-2 border-cyan-200">
                        <h2 class="text-2xl font-bold text-cyan-800 mb-6 text-center">ğŸ† Ø®Ù„Ø§ØµØ© Ø§Ù„Ø¯Ø±Ø³</h2>
                        
                        <div class="space-y-4">
                            <div class="bg-white rounded-xl p-5 border-2 border-cyan-200 shadow-md">
                                <h3 class="text-lg font-bold text-cyan-700 mb-3 flex items-center gap-2">
                                    <span class="w-8 h-8 bg-cyan-500 text-white rounded-full flex items-center justify-center">Ù¡</span>
                                    Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©
                                </h3>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <p class="font-bold text-blue-700 mb-2">ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù…Ø¯ÙˆØ¯Ø© (Ø§)</p>
                                        <p class="text-gray-700">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙˆØ§ÙˆØ§Ù‹</strong> ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</p>
                                        <p class="text-sm text-blue-600 mt-2">Ù…Ø«Ø§Ù„: Ø¯ÙÙ†ÙØ§ â† ÙŠÙØ¯Ù’Ù†ÙÙˆ</p>
                                    </div>
                                    <div class="bg-red-50 p-4 rounded-lg">
                                        <p class="font-bold text-red-700 mb-2">ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù‚ØµÙˆØ±Ø© (Ù‰)</p>
                                        <p class="text-gray-700">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£ØµÙ„Ù‡Ø§ <strong>ÙŠØ§Ø¡Ù‹</strong> ÙÙŠ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</p>
                                        <p class="text-sm text-red-600 mt-2">Ù…Ø«Ø§Ù„: Ù‚ÙØ¶ÙÙ‰ â† ÙŠÙÙ‚Ù’Ø¶ÙÙŠ</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl p-5 border-2 border-cyan-200 shadow-md">
                                <h3 class="text-lg font-bold text-cyan-700 mb-3 flex items-center gap-2">
                                    <span class="w-8 h-8 bg-cyan-500 text-white rounded-full flex items-center justify-center">Ù¢</span>
                                    Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙÙˆÙ‚ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©
                                </h3>
                                <div class="bg-emerald-50 p-4 rounded-lg">
                                    <p class="font-bold text-emerald-700 mb-2">ØªÙÙƒØªØ¨ Ø£Ù„ÙØ§Ù‹ Ù…Ù‚ØµÙˆØ±Ø© (Ù‰) Ø¯Ø§Ø¦Ù…Ø§Ù‹</p>
                                    <p class="text-gray-700">Ø³ÙˆØ§Ø¡ ÙƒØ§Ù†Øª Ø±Ø¨Ø§Ø¹ÙŠØ© Ø£Ùˆ Ø®Ù…Ø§Ø³ÙŠØ© Ø£Ùˆ Ø³Ø¯Ø§Ø³ÙŠØ©</p>
                                    <p class="text-sm text-emerald-600 mt-2">Ù…Ø«Ø§Ù„: Ø£ÙÙˆÙ’ÙÙÙ‰ØŒ Ø§Ø³Ù’ØªÙÙˆÙ’ÙÙÙ‰ØŒ ØªÙÙÙØ´ÙÙ‘Ù‰</p>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl p-5 border-2 border-cyan-200 shadow-md">
                                <h3 class="text-lg font-bold text-cyan-700 mb-3 flex items-center gap-2">
                                    <span class="w-8 h-8 bg-cyan-500 text-white rounded-full flex items-center justify-center">Ù£</span>
                                    Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©
                                </h3>
                                <p class="text-gray-700">Ù„Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©: <strong>Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹</strong> Ù„Ù…Ø¹Ø±ÙØ© Ø£ØµÙ„ Ø§Ù„Ø£Ù„Ù</p>
                            </div>
                        </div>

                        <div class="mt-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white rounded-xl p-6 text-center">
                            <div class="text-4xl mb-2">ğŸ‰</div>
                            <h3 class="text-xl font-bold mb-2">ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­</h3>
                            <p>Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…Øª Ù‚ÙˆØ§Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ù ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</p>
                        </div>
                    </div>

                    <button onclick="markComplete(6); resetQuiz(); goToSection(0);" class="w-full py-4 bg-gradient-to-r from-cyan-500 to-teal-500 text-white text-xl font-bold rounded-xl hover:from-cyan-600 hover:to-teal-600 transition-all">
                        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© ğŸ”„
                    </button>
                </div>
            `;
        }

        function render() {
            renderNav();
            updateProgress();
            
            const content = document.getElementById('content');
            switch(state.currentSection) {
                case 0: content.innerHTML = renderIntroduction(); break;
                case 1: content.innerHTML = renderThreeLetter(); break;
                case 2: content.innerHTML = renderAboveThree(); break;
                case 3: content.innerHTML = renderInteractive(); break;
                case 4: content.innerHTML = renderPractice(); break;
                case 5: content.innerHTML = renderQuiz(); break;
                case 6: content.innerHTML = renderSummary(); break;
                default: content.innerHTML = renderIntroduction();
            }
        }

        // Initialize
        render();
    </script>
</body>
</html>
